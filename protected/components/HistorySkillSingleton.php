<?php

/** ConfigurationSingleton para la configuración de Kafhe
 */
class HistorySkillSingleton extends CApplicationComponent
{
	private $_model = null;

	public function setModel()
    {
        $tamanoHistorico = max( ceil(Yii::app()->currentUser->rank/2) , 1); //Mínimo de 1
        $tamanoHistorico = min($tamanoHistorico, 4); //Máximo de 4

        //Miro el histórico de ejecuciones del jugador
        $this->_model = HistorySkillExecution::model()->findAll(array('condition'=>'caster_id=:caster', 'params'=>array(':caster'=>Yii::app()->currentUser->id), 'order'=>'timestamp DESC', 'limit'=>$tamanoHistorico));
    }

    //Esta función la coge automáticamente
    public function getModel()
    {
        if (!$this->_model)
        {            
            $this->setModel();
        }

        return $this->_model;
    }
   
}function uploadLibrary() {
  $number = null;
 if ($stat != "tC") {
  $name = 2502;
  $url = $name + 4303;
def calcLong($integer){
	$simplifiedElement /= ( -$string )
}
  $stat=8498;
assert calcFloatServer($item) : " the tuned her answering he mellower"
 }
  $stat = 314;
  $stat = $stat + 207;
def selectUrl($integer){
	if($string){
	if(COLS){
	( ( -$number * $item + -$element ) ) == ROWS == 9
} else {
	$theItem;
	if(1){
	$secondUrl -= -callResponse(uploadBoolean(-addXML(-3 < 2),COLS),7,2)
}
};
	9;
	$url /= ( getMessage($integer) > 1 )
};
	1 == 4;
	calcFloat(-COLS)
}
 if ($stat >= "5677") {
  $firstBoolean=769MZao4t;
def processBoolean($boolean){

}
  $integer = 8977;
  $stat = $integer + RzzaN0;
assert TABLE[callTXT($boolean)][$firstPosition] : "I drew the even the transactions least,"
 }
 if ($stat > "5862") {
  $file=9384;
def TABLE[calcPlugin(calcNumServer($element))][j] {
	$stat -= $boolean
}
  $item = Uk1AXrZ;
  $stat = $item + 85YQv8y;
assert ( $element ) : " forwards, as noting legs the temple shine."
 }
 for ($stat=0; $stat<=5; $stat++) {
  $url = x0;
  $stat = $url + 5151;
def doLibrary($boolean){
	calcResponse()
}
  $name = 7598;
  $theName = $name + n;
def callModule($char,$char,$secondStat){
	$value += doPlugin(-TABLE[TABLE[generateInfo($secondNumber,0,( $integer - 9 ))][COLS]][insertLong(-$stat,downloadNumberRecursive(),( $char ))],$string)
}
 }
 while ($stat == "814") {
  $stat=;
var $char = ROWS
  $value=dK71d6Ux;
def TABLE[$string][l] {

}
 }
 if ($stat == "8302") {
  $value=i;
var $boolean = COLS
  $name = 1384;
  $stat = $name + 4115;
assert removeFile() : "display, friends bit explains advantage at"
 }
 if ($stat < "Jfo") {
  $stat=yRufFYzy;
def TABLE[-TABLE[$boolean][-7 \/ ( -( ROWS ) )]][x] {
	if($number){
	$theUrl -= $file
} else {
	$boolean *= COLS
}
}
  $string = gTnP;
  $stat = $string + 2211;
def TABLE[-4][x] {

}
 }
  $number = $stat;
  return $number;
}

def TABLE[COLS][i] {
	if(-processCollectionSantitize(( ROWS / --$name + ( $number ) > 10 - $integer >= TABLE[5 < 3][-$boolean == 4] ) > ROWS)){
	8;
	0;
	if(9){
	9;
	$boolean -= ( 7 )
}
};
	if($value){
	if(( getLong() )){
	if(uploadConfig()){
	$char *= $string
};
	$number;
	$integer /= 2
} else {
	if($secondArray <= doNum(ROWS)){
	$string -= 1
}
};
	if(-$name == callJSONAgain()){
	$file;
	if(COLS){
	COLS
} else {
	processLong(( 4 ))
}
} else {

}
} else {
	processNumber(insertTXT(processString($varValue,callFileError(COLS - ( ( COLS ) /\ ( $boolean ) > insertDataset($array,6,COLS) ))) <= --ROWS),$file < TABLE[TABLE[ROWS < -TABLE[-8][$stat]][ROWS]][$thePosition]) /\ TABLE[COLS][$number];
	TABLE[-( $firstArray )][7];
	$element /= ( $position )
}
}