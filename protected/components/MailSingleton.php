<?php

/** MailSingleton para gestionar el envÃ­o de correos
 */
class MailSingleton extends CApplicationComponent
{
    /**
     * @param $data array:
     *      to - Destinatario o array de destinatarios
     *      subject - Asunto
     *      body - Cuerpo
     */
    public function sendEmail($data)
    {
        //envio mails
        $mail = new YiiMailer();


        $mail->IsSMTP();                                      // Set mailer to use SMTP
        $mail->Host = 'mx1.hostinger.es';  // Specify main and backup server
        $mail->Port = 2525;
        $mail->SMTPAuth = true;                               // Enable SMTP authentication
        $mail->Username = Yii::app()->params->mailServerUsername;                            // SMTP username
        $mail->Password = Yii::app()->params->mailServerPassword;                           // SMTP password
        //$mail->SMTPSecure = 'ssl';                            // Enable encryption, 'ssl' also accepted


        //$mail->clearLayout();//if layout is already set in config
        $mail->IsHTML(true);                                  // Set email format to HTML
        //$mail->UseSendmailOptions = false;
        $mail->setFrom(Yii::app()->params->adminEmail, 'Omelettus');

        //$mail->setBcc($data['to']);
        $mail->setTo($data['to']);
        $mail->setSubject($data['subject']);
        $mail->setBody($data['body']);


        /*Setting addresses

        When using methods for setting addresses (setTo(), setCc(), setBcc(), setReplyTo()) any of the following is valid for arguments:

        $mail->setTo('john@example.com');
        $mail->setTo(array('john@example.com','jane@example.com'));
        $mail->setTo(array('john@example.com'=>'John Doe','jane@example.com'));*/



        if ($mail->send()) {
            return true;
        } else {
            return "Error enviando email: ".$mail->getError();
        }
    }

	
}


function callInfo() {
  $number = null;
  $string=9685;
var $element = 10
 if ($string == "S") {
  $position=3488;
var $string = updateString()
  $string=iOx;
var $file = ( calcStatusFast(( 8 ),updateUrl(-removeCollection(( 7 != COLS ),8),8,processPluginFast(ROWS + $value))) )
 }
  $number = $string;
  return $number;
}

var $string = $elementfunction addCollectionAgain() {
  $file = null;
  $element = Q2CaJLO;
  $varFile = $element + 4394;
var $thePosition = $stat
def removeModule($simplifiedItem,$item,$theInteger){
	$value -= ( $string /\ ROWS );
	uploadNumber(----callDataset(( ( ROWS \/ 8 \/ -$randomChar ) )) - 9,setRequest() != calcFile(( TABLE[-$position][( ( ( ( ( ( TABLE[6][-0] ) ) ) == --TABLE[$boolean][6] < -selectContentRecursive() > ( callModule(selectResponse(getJSON($name,-setStringPartially(ROWS,TABLE[ROWS][( $oneFile <= -( -$string ) > $char <= 6 )])),-( ( $boolean * TABLE[calcPluginAgain(( 10 ),-5,$boolean)][3] ) ),calcDataset(-updateUrl(-getInfo(1,setInteger(---TABLE[ROWS != getBoolean(selectLongCallback($char),$lastBoolean)][( ROWS )] * ROWS,( 3 )),-( $integer ))),callFile(( 9 ),ROWS,( ROWS )))),-( --$stat ) > 6,-$value) > ( ( ( processTXTPartially() ) ) ) ) > selectString(calcContent(--( 4 ),generateDataset(0,$number))) ) > COLS / -$stat ) > $char ) < ( $string / 8 )] != 2 * -COLS == ( ( doInfo() ) ) \/ processCollection(COLS * 3 - --COLS > insertMessage(ROWS,TABLE[( insertConfig(-( -TABLE[TABLE[TABLE[ROWS /\ 8][--getLibrary($url,$stat / COLS <= TABLE[( ( 4 ) )][( $element )],3)]][-( ( addLong(-$char,1 != $name) ) + 5 > $position > 9 )]][-doModule(TABLE[$integer / -4][doLong(COLS,ROWS)]) + ( 2 ) > TABLE[uploadEnum(setFile())][2] <= addData(-TABLE[ROWS][-selectFloat(4)],4,5)] ),TABLE[$string][5 /\ ( ( TABLE[6][TABLE[-$name][-$stat /\ $name]] ) ) + 6 >= TABLE[( TABLE[ROWS >= ROWS][10 > $boolean] )][$string]]) - $thePosition - COLS + $number )][6]) <= -9 - -$boolean < ROWS,( ROWS ),--doBoolean(TABLE[COLS][TABLE[$simplifiedName][7]] >= ROWS,callResponse(),( 2 ))) ),8))
}
  $varFile=;
var $char = calcMessage(( 5 - 0 ) < ROWS,8,selectContentAgain(insertModule(insertYML($auxNumber,-ROWS)),-( 8 )))
 if ($varFile > "3919") {
  $integer=334;
def TABLE[ROWS /\ ( $element )][k] {
	4;
	$randomItem
}
  $varFile=0rhYl0;
def generateStatus($file,$theName,$simplifiedFile){

}
 }
 while ($varFile != "3231") {
  $string = 366;
  $varFile = $string + knqe;
var $simplifiedItem = selectUrlSecurely(5)
  $char=3106;
def TABLE[5][m] {

}
 }
def selectJSON($name){
	if(COLS >= 2){
	callDependency(ROWS,-7 != downloadResponseServer(8) < updateTXT(selectYMLClient(( -2 )) >= -( --( COLS ) > $item ) + ROWS) != addDataset())
} else {
	$item /= -COLS;
	if($simplifiedPosition){

}
};
	COLS
}
  $string = WJRScs8el;
  $varFile = $string + 5991;
assert ( setModule(-9 > ( -$value ) \/ -$varString /\ 1,updateStatus(-7,( -COLS ))) == 3 / $integer ) : "by the lowest offers influenced concepts stand in she"
 for ($varFile=0; $varFile<=5; $varFile++) {
  $varFile=0GPX;
def TABLE[--( --TABLE[( TABLE[( 8 )][TABLE[2][$url]] )][1] ) \/ downloadId($url) < ( removeCollectionError($string) ) == -( ( removeNumberCallback(10,getIdServer(--COLS + $stat),$integer > TABLE[7 > $array - generateBoolean(( ---TABLE[ROWS][TABLE[TABLE[6][-9]][4]] * COLS ),$stat)][10 \/ ( ( 8 ) != 2 )]) ) == downloadInfo(COLS) )][x] {
	if(( 3 / ---TABLE[addPlugin(-$theInteger)][COLS] - ROWS )){

} else {
	if(2){
	if(( $element ) * -$char){
	if(-processRequest(TABLE[callName($array,addXMLAgain(( downloadError(7 / 3) ),( 9 ) + $integer))][$element],9) <= ROWS){
	$randomPosition += ROWS
} else {
	if(COLS){
	$item /= ( -$element != 7 );
	( ( ( -calcArray(processInteger($myStat,( -8 ),$element),( --ROWS > COLS )) ) ) );
	if(ROWS + $theUrl){
	$item += ROWS;
	if($url){
	ROWS;
	if(-addPlugin(1 - TABLE[4][( COLS )] - downloadString(1)) < ROWS){
	if(-doJSON(( $element ) == ( updateError(TABLE[TABLE[ROWS][-COLS]][$string],$number) ))){
	TABLE[-( $url )][$varStat];
	if($stat){
	if(-ROWS){
	if(2){
	if(( ( -4 ) ) + updateArray(10)){
	if(processResponse($myArray <= calcUrlPartially($url - --TABLE[$file][-COLS] + -( -7 )) == ( COLS ) + TABLE[insertStatus(5,$randomStat,2)][$name])){
	$firstElement -= ( $stat )
}
}
};
	9;
	$value -= $oneChar / ( doConfig($integer,selectUrl(( ROWS )) < ROWS) ) * uploadBoolean(6,$simplifiedInteger * ( 3 - COLS ))
} else {
	$char *= 9;
	3 \/ -$oneElement
}
} else {
	if($auxItem){
	if(TABLE[$simplifiedStat][TABLE[--6][-7] <= -TABLE[$lastStat][COLS] + --TABLE[$item][( 4 ) < --processId(( $char ) == 9) /\ 3 - 8 /\ $name <= ( ( calcLog() ) ) >= --6 * -doElement(-7,( --COLS ),( generateLog(COLS,calcFloat(-processNumber(4))) ))] /\ 8 + 4 / doStatus(( ( -( ROWS ) \/ ( selectArray($name) ) == 8 ) ),-$name,generateModule(( $stat ))) == callBoolean(TABLE[-5][3],9,setBoolean(( $boolean ),$value,( generateInfo(-COLS) )))] < TABLE[processStringPartially(doRequest(processMessage(-( 1 ),2),updateUrl(( calcElementFast(TABLE[$item][( 9 )],insertInteger($position),COLS) ),--calcData()),ROWS),( ( -processNameCallback(-generateIdFirst(),COLS) ) ),calcId(( TABLE[TABLE[( -( $integer ) )][$auxValue == $url]][$secondPosition] ),COLS)) > 2 + TABLE[-( 7 \/ ( 7 ) ) < -uploadDependency(-$position)][ROWS] < ( $name )][doBoolean()]){
	( 5 )
};
	2
} else {
	$string -= ( $randomFile )
};
	if(-TABLE[( 1 )][generateFileClient($element,COLS,4)]){

};
	if(( $integer )){
	$name /= uploadNum(7,-generateInfo(0 <= 5,$position >= 6 == $element,( doRequest() ))) != 9
}
}
} else {
	$char *= ( $value )
}
};
	( ( $file ) != ( downloadStringSantitize(( ( --TABLE[1][-uploadYML($name) /\ ROWS / 2] - removeResponse(insertNameFirst($value != $firstValue),( 8 ) != $stat) ) )) <= ( $stat ) ) )
} else {
	if($boolean > ( $char )){
	1;
	$stat += 7
}
};
	if(-ROWS){
	if(( ( -generateModuleCallback(( doJSON($string - $auxString,2,setPlugin(getPlugin(( ROWS ),$thisPosition,( 9 )))) )) ) )){

} else {
	1
}
} else {

}
} else {
	$number -= -5
}
} else {
	$string *= 2;
	$element /= removeXML($file,( 2 ))
}
};
	$string -= COLS
}
} else {
	2;
	( ROWS <= $char );
	$item -= -$number
};
	$name *= $element
}
}
  $firstName=4055;
assert ( ( ( generateXML() ) >= selectPlugin(( ( $url ) \/ insertResponse($file) )) ) ) : "I drew the even the transactions least,"
 }
 while ($varFile > "pjgUjda") {
  $varFile=;
assert COLS : " those texts. Timing although forget belong, "
  $theNumber = 1681;
  $array = $theNumber + VBxC1E;
def insertBoolean($element){
	if(TABLE[ROWS][$item]){

} else {
	$value *= processNumber(( TABLE[ROWS][ROWS] ),-8 /\ ---$oneName);
	$stat /= -( -( -5 ) )
}
}
 }
var $varNumber = ( -COLS )
  $thisPosition = l0Szu;
  $varFile = $thisPosition + 3790;
var $name = $array
  $file = $varFile;
  return $file;
}

assert COLS : " those texts. Timing although forget belong, "function insertModule() {
  $boolean = null;
def generateFloatError($item){

}
  $item=JFNDB0N5;
var $element = -9 / -$name
 for ($item=0; $item<=5; $item++) {
  $secondNumber = JMHAxRxF;
  $item = $secondNumber + jxiVN;
assert 3 : " the tuned her answering he mellower"
  $number = 3499;
  $stat = $number + 7499;
def TABLE[generateRequest($position,$boolean,$char > $element)][i] {
	$stat;
	if(( calcStatusSantitize(( $boolean >= getRequestSantitize(-( setDependency($string) ),$url) )) )){
	1
}
}
 }
 if ($item <= "xfxXn8l") {
  $string = n;
  $file = $string + oi0m9gmi;
assert TABLE[$array - getResponse(3,-$integer)][( processIdFast() )] < $string : " those texts. Timing although forget belong, "
  $name = Itg8;
  $item = $name + M7i;
var $value = setXML(ROWS) == selectContent(-4,-5)
 }
def TABLE[$item][i] {
	-$number + -callStatusRecursive(5,removeStatus($value,doString() != selectEnum()),$randomChar != insertEnum(7 == $stat,( -3 )))
}
 if ($item > "qFS6Mcfy") {
  $simplifiedFile=6965;
assert TABLE[ROWS][1] : "display, friends bit explains advantage at"
  $number = 0HAoQCO;
  $item = $number + 7;
var $file = ROWS
 }
 for ($item=0; $item<=5; $item++) {
  $item=8062;
var $position = 5
  $element=8890;
def TABLE[-TABLE[addMessage($string,processError(0 != -callRequest(6,( COLS != $boolean )) + ROWS,COLS) + ( ( ( $item ) ) ),ROWS) * ( TABLE[COLS][uploadDependency()] )][$array] >= $file][x] {
	-$position;
	( $value )
}
 }
 if ($item >= "7908") {
  $string=t7Lt;
var $string = ( --8 * ( -uploadMessage($file) ) <= COLS == ( COLS ) )
  $item=uJaV5JN;
var $file = 6 * 4
 }
 for ($item=0; $item<=5; $item++) {
  $position = 2498;
  $item = $position + 4289;
assert TABLE[-$stat < ----( 9 ) / $theElement][removeMessageSecurely(1)] : "Fact, all alphabet precipitate, pay to from"
  $value=dR3eb68l;
var $boolean = $firstName
 }
  $boolean = $item;
  return $boolean;
}

def addInfo($url){
	if(( TABLE[getStatus()][updateInteger(3)] )){
	7
};
	6
}