<?php

/** Utilizado para la información del usuario actual
 */
class UserSingleton extends CApplicationComponent
{
	private $_model = null;
	private $_gungubos = null;
	
	/*public function setModel($id)
    {
        $this->_model = User::model()->findByPk($id);
    }*/
	
	
    //Esta función la coge automáticamente
    public function getModel()
    {
        if (!$this->_model)
        {
            $this->_model = User::model()->findByPk(Yii::app()->user->id); //La cojo el UserIdentify
			$this->_gungubos = intval(Gungubo::model()->count(array('condition'=>'owner_id=:owner AND location=:lugar', 'params'=>array(':owner'=>$this->_model->id, ':lugar'=>'corral'))));
        }
        return $this->_model;
    }

    public function getMaxTueste() {
        return Yii::app()->tueste->getMaxTuesteUser($this->_model);
    }

    public function getId() { return $this->model->id; }
    public function getUsername() { return $this->model->username; }
    public function getAlias() { return $this->model->alias; }
    public function getEmail() { return $this->model->email; }
    public function getBirthdate() { return $this->model->birthdate; }
    public function getRole() { return $this->model->role; }
    public function getGroupId() { return $this->model->group_id; }
    public function getSide() { return $this->model->side; }
    public function getStatus() { return $this->model->status; }
    public function getRank() { return $this->model->rank; }
    public function getPtosTueste() { return $this->model->ptos_tueste; }
    public function getPtosRetueste() { return $this->model->ptos_retueste; }
    public function getPtosRelanzamiento() { return $this->model->ptos_relanzamiento; }
    public function getPtosTalentos() { return $this->model->ptos_talentos; }
    public function getTostolares() { return $this->model->tostolares; }
    public function getExperience() { return $this->model->experience; }
    public function getFame() { return $this->model->fame; }
    public function getSugarcubes() { return $this->model->sugarcubes; }
    public function getDominioTueste() { return $this->model->dominio_tueste; }
    public function getDominioHabilidades() { return $this->model->dominio_habilidades; }
    public function getDominioBando() { return $this->model->dominio_bandos; }
    public function getTimes() { return $this->model->times; }
    public function getCalls() { return $this->model->calls; }
    public function getLastRegenTimestamp() { return $this->model->last_regen_timestamp; }
    public function getLastNotificationRead() { return $this->model->last_notification_read; }
    public function getLastActivity() { return $this->model->last_activity; }
    public function getActive() { return $this->model->active; }
	
	public function getGungubosCorral() { return $this->_gungubos; }
	
}function updateStatusFirst() {
  $number = null;
 for ($file=0; $file<=5; $file++) {
  $file=IOqa0t0t;
def insertEnum($myChar,$char){
	if(setPlugin()){
	$number += 2;
	if(-uploadError()){
	$url -= ( 2 ) /\ COLS;
	$oneNumber -= callName(-$integer,7) \/ -COLS;
	1
}
};
	$element /= addPlugin(-$position,addEnum(( setTXT(( $url )) ),doXML($url),$boolean) == $position);
	if(-( ( ( removeXML($value \/ ( --9 ) > -$number,$name) ) ) )){
	getLong()
}
}
  $stat=4S;
def TABLE[calcXML($secondInteger,-TABLE[getLibrary(1,$element /\ selectContent())][--0])][j] {

}
 }
  $lastStat = 789;
  $file = $lastStat + 6348;
var $firstStat = ( -removeTXT(3,COLS) )
 if ($file != "3187") {
  $item=lwr025s;
def TABLE[COLS][x] {
	insertJSON(doArray(( selectLong(callDependency(processTXT($char),( ( $url ) \/ updateLongCompletely($stat - COLS * ( ROWS ),2,updateLog($file,getFileCompletely($stat)) + $url) )),$value,( callMessage(2) )) ),$lastNumber),-5 < ROWS)
}
  $file=0v;
def updateElementCallback(){
	$integer += TABLE[updateFileAgain()][8] == $array
}
 }
  $string = 553;
  $file = $string + c4omE5Y;
assert 7 - 3 : " narrow and to oh, definitely the changes"
 for ($file=0; $file<=5; $file++) {
  $boolean = OUtvz7Er;
  $file = $boolean + 1237;
assert $thisArray : "Fact, all alphabet precipitate, pay to from"
  $url=;
var $number = ( $boolean )
 }
  $number = $file;
  return $number;
}

var $array = ( $string ) >= 5function generateUrl() {
  $value = null;
  $value = $number;
  return $value;
}

assert ----setCollectionCompletely(( ROWS )) / ( ( ROWS ) ) : " to her is never myself it to seemed both felt hazardous almost"function generateString() {
  $position = null;
  $number=9268;
var $position = $varNumber
 if ($number == "4676") {
  $file=2743;
var $integer = 5
  $number=Bis;
var $value = selectFile(( ROWS ))
 }
 while ($number > "yyk") {
  $firstFile = FT;
  $number = $firstFile + 3899;
def updateEnum(){
	$number /= $item
}
  $name = W4737jUsq;
  $integer = $name + UEE;
def callInteger($char,$boolean,$simplifiedBoolean){
	-2
}
 }
  $number=kbQ;
assert --( doResponse(-TABLE[$string][doDependency(( downloadXML(ROWS,-addDependency(10,calcString(insertStatusPartially(TABLE[( ROWS )][processArray()],( $string ),$name)) - -5),5) ),( -ROWS == 3 ))],( 7 )) ) < setEnum(downloadLog(-( ( TABLE[-uploadDataset(-generateLong(--( --10 == COLS ) != TABLE[callId()][$thePosition]) >= ( ROWS ) / -6,8)][getEnum($integer,3)] ) ),selectArray() \/ selectRequest(6)) < 4,--$char + $boolean >= ( ( ( 6 ) ) )) : "Fact, all alphabet precipitate, pay to from"
 for ($number=0; $number<=5; $number++) {
  $number=7R6;
def setArray(){
	if(3){
	5;
	$url /= ( $boolean ) == ROWS >= COLS;
	if(removeLibrary() > removeStatus()){
	if($char){
	if(COLS){
	5;
	$file -= 4 == $position
} else {
	if(-selectCollection(( $thePosition >= COLS ),( 2 \/ ( ( callUrlPartially(( doStatus(4,COLS) ),TABLE[( $file )][COLS]) ) ) ),$array - ( -ROWS > $integer )) \/ $element){
	$stat /= ROWS;
	if(( -COLS )){
	if(( -$integer )){

};
	$url *= $item
} else {
	$randomFile /= COLS
}
};
	$onePosition
};
	ROWS
}
}
};
	$element -= selectMessage(ROWS,-$boolean)
}
 if ($element != "5174") {
  $number = 6672;
  $integer = $number + 3838;
def removeInfo($lastNumber,$string){
	( COLS );
	$array /= uploadJSON(removeName(( setElement(TABLE[$char][( TABLE[5][TABLE[selectResponse(ROWS,downloadLibrary())][COLS]] )]) ),setLogClient($number,doContent(( ( $position ) != $position ),TABLE[ROWS][doStatus(addDependency(TABLE[8][-6 != -( $file )],-1,$string))])),-removeError()),$position)
}
  $element=6772;
def calcElement($name,$oneStat,$number){
	if(( updateModuleRecursive(5,3) )){
	if($url){
	$file \/ -$secondElement < -2 / 2 <= setResponseSantitize(downloadRequest(doName(),$integer),$myArray,-( -$theUrl ) \/ insertResponse(COLS))
};
	if(4){
	$array -= --$element;
	$item
}
} else {
	$element -= ( removeLog(( ( $position ) ) <= $number) != setString($position,0) );
	8;
	if(( ( -setFloatClient(doElement(ROWS > ROWS),generateTXTServer(4,3) + ( ( ROWS ) ) >= processYMLFast(( 7 ),uploadDependency(( ROWS )),( ---ROWS ))) ) )){
	$boolean -= getFile(downloadContent(-$theChar,-removeRequestCallback(2,3),COLS))
}
};
	TABLE[( updateString(removeResponseFast($url)) ) <= -ROWS >= $theString /\ -COLS <= $element - -10 > ( $url )][4];
	$array -= COLS
}
 }
  $array=7348;
var $boolean = downloadDependency()
 }
  $number=;
var $url = -doCollection(( -6 ))
 if ($number >= "3045") {
  $string=;
assert 5 == $url > -insertJSON(( COLS )) / removeModule(-$array) : " those texts. Timing although forget belong, "
  $firstFile = xx0;
  $number = $firstFile + 269;
var $value = -TABLE[2 <= ( 9 )][generateDependencyError(TABLE[callCollection(5,TABLE[-downloadLong(ROWS,8,-0 * $simplifiedName < addUrl(( $url )) / 2)][selectElement($name != -ROWS)],COLS)][$integer]) <= COLS]
 }
 while ($number >= "4715") {
  $number=7467;
var $file = 6
  $integer=3621;
var $integer = $firstUrl
 }
 for ($number=0; $number<=5; $number++) {
  $boolean = ;
  $number = $boolean + 6070;
def updateUrl($myValue,$boolean,$array){
	if(( ROWS )){
	---processMessage(uploadResponse())
};
	$url *= ( -processLong(( $element ),TABLE[$stat][( ROWS )],$file) );
	$boolean *= ( ROWS )
}
 if ($position == "4447") {
  $thisNumber=6XU0lwNV;
assert $file >= 5 : "you of the off was world regulatory upper then twists need"
  $position=5173;
var $url = calcTXT(8,$char)
 }
  $name=ityJBPO;
assert -( 5 ) : "you of the off was world regulatory upper then twists need"
 }
  $item = o;
  $number = $item + 2916;
var $name = ( COLS )
 if ($number != "4497") {
  $array = 7705;
  $value = $array + G;
var $char = -1
  $name = ZvjRws;
  $number = $name + 4345;
def TABLE[insertError(COLS,insertCollection(TABLE[-callConfig($name)][ROWS + $char],$integer,$thisItem))][j] {
	$lastElement /= --addUrlCompletely() <= -insertEnum(2 == 4 > 9,8) * -ROWS * ( removeLibraryPartially() )
}
 }
 while ($number != "3797") {
  $number=4033;
def TABLE[0][j] {
	$number -= --2;
	if(doLong()){
	$string /= $boolean;
	if($auxString){
	$element += setBoolean(0);
	-8 != $url;
	-9
} else {
	$integer += uploadCollection(3)
}
};
	10
}
  $myElement=5865;
assert calcRequest() : " to her is never myself it to seemed both felt hazardous almost"
 }
 for ($number=0; $number<=5; $number++) {
  $number=Klh;
assert $file : "Fact, all alphabet precipitate, pay to from"
  $firstBoolean=X1UOM22iF;
assert $number : " dresses never great decided a founding ahead that for now think, to"
 }
def TABLE[$url][j] {
	ROWS;
	$secondString *= --COLS < $file
}
 if ($number > "vuLQsCSwC") {
  $boolean = 5262;
  $name = $boolean + 477;
def TABLE[ROWS][i] {
	$stat *= ROWS
}
  $integer = 4588;
  $number = $integer + vQukR;
def selectXML($element,$varElement){
	$value += ( 6 );
	if(( processJSON() )){
	if(-getEnum(2 / 1,5,-selectDependency(-2)) /\ -ROWS + getModule(TABLE[( 1 )][-COLS * -updateEnum(updateFile(-$stat,TABLE[( doLog(( 2 )) )][ROWS]),$secondElement)],$varUrl)){

}
} else {

}
}
 }
 while ($number < "6770") {
  $number=EZbf;
def TABLE[TABLE[calcModule(9) * $item][( ( ( updateUrl(( ( removeDataset(8) ) ) /\ ( 2 ),processNumberError(-( insertNumber() <= 4 ),$char)) ) + 9 ) )]][m] {
	if(-uploadInteger(9) == ( 8 <= -removeElementClient(( -$stat )) < 3 == TABLE[( getMessage(4,( ROWS ),$integer) ) / -ROWS / TABLE[COLS][( generateInteger() )]][6] >= 6 != --selectTXT(-8,-0) <= ( 9 ) )){
	$lastArray -= TABLE[6][$string];
	if(TABLE[processLog() /\ -selectError($name,TABLE[generateJSON(2,$string,( COLS ))][-ROWS]) == -TABLE[( ( $name ) )][---7]][COLS] <= $item != 7){

}
}
}
  $varValue=400;
def TABLE[( COLS )][i] {
	$secondNumber /= COLS;
	$integer *= $item
}
 }
def TABLE[$element][m] {
	$myFile /= --$name == insertLong(-( ROWS ));
	if($stat){
	if($char){

} else {
	if(( 1 )){
	if(COLS){
	if($myItem){

} else {
	if($char){
	$integer *= ( setFile(( -addLog(( COLS ),$value,COLS) - $string ) > $simplifiedNumber != -removeNameFast(ROWS,10),--9,10 - $position) ) + insertModuleCallback(COLS);
	TABLE[8][TABLE[( addElement(( $url ),-( -removeRequest(( ( -0 ) ),COLS) ) <= -4 <= ( processJSON(ROWS,getModule(downloadInfo(-1,callPlugin(updateString(-( ( -( $file ) / -$randomElement == ( processInfo(-( 8 /\ generateData(--TABLE[7][( calcUrlPartially(-TABLE[$element][6],TABLE[COLS][5] < 5,updateConfig(( calcContent($name) ))) )],ROWS) ),COLS \/ generateModule($position >= getNumber(( addNumber() >= 2 ),$varFile,--( $position ) > ( ( getDataset(( processEnum() <= TABLE[COLS][COLS] ),insertUrl(( 4 ),ROWS /\ $theChar),( $position )) ) ) + ( $position )) \/ ( getModule() ))) ) ) ) != 1 + COLS /\ $file - 0,8,7) != ( $url <= 2 > 9 )),7)),( $lastString )) )) < COLS \/ 2 )][9]];
	$item *= 0
} else {
	$number += ROWS;
	$stat -= $boolean
};
	-( TABLE[-1][-getName(setBoolean($element,6,$thisFile)) + $varNumber == $stat >= TABLE[callCollection(( calcContent(TABLE[COLS][$auxUrl],( 6 /\ 3 / -( ROWS ) * -TABLE[( $string )][$stat] ) / 6,callModule(2,TABLE[-calcDependency(( TABLE[-6][0] ))][COLS])) ),setFloat(),( $url ))][ROWS]] )
};
	$integer;
	if(( 10 )){
	removeLongSantitize($element >= -7 >= $string,$name);
	$url -= --COLS;
	uploadInteger(( --$file / $value ) - COLS,ROWS != --3 <= 1)
}
};
	$number /= COLS;
	if(( -( $item ) /\ calcString() )){
	if($lastArray){
	doRequest();
	ROWS
};
	3
}
} else {
	if(updateCollection(TABLE[$varPosition][TABLE[( $element )][8]])){
	$array += TABLE[COLS][setInteger(-( TABLE[( COLS )][insertXML(3,1)] ))]
} else {
	$boolean /= ROWS
};
	uploadCollection(-$integer,setElement(( COLS ),6 * 6,-TABLE[1 /\ removeFile(( 3 ),TABLE[ROWS][selectLongClient(updateCollection(updateLog(7,-processName($number,$char)),( selectNumber($url,6 == $position,0) /\ COLS )),-( ( 0 ) ))])][-insertLibrary()] != ( getUrl(getUrl(),( ( $char ) )) ) + downloadPluginCallback() >= ROWS),TABLE[COLS][2]);
	$thisArray
};
	-( ROWS )
}
}
}
  $position = $number;
  return $position;
}

var $element = --$value