<?php
class UserPanel extends CWidget {

    public function run() {
        $data['user'] = Yii::app()->currentUser->model;
        $data['modifiers'] = $this->getModifiers();
        $data['romanRank'] = Yii::app()->usertools->roman_numerals($data['user']->rank);

        $this->render('userPanel',$data);
    }

    private function getModifiers() {
        $mods = Yii::app()->modifier->modifiers;
        $listaFinal = array();

        //Ahora de esa lista, que son todos los que me afectan, quito los modificadores ocultos
        foreach($mods as $mod) {
            if ($mod->hidden) continue;

            $listaFinal[] = $mod;
        }


        /** Ahora saco modificadores que quiero mostrar de forma especial **/

        //Si eres agente libre se muestra el nÃºmero de trampas que has puesto
        if(Yii::app()->user->side == 'libre') {
            $modsExtra = Modifier::model()->findAll(array('condition'=>'keyword=:k1 OR keyword=:k2 OR keyword=:k3', 'params'=>array('k1'=>Yii::app()->params->modifierTrampaPifia, 'k2'=>Yii::app()->params->modifierTrampaTueste, 'k3'=>Yii::app()->params->modifierTrampaConfusion)));

            //ByAttributes(array('keyword'=>Yii::app()->params->modifierTrampaPifia));
            if ($modsExtra!==null) {
                $listaFinal = array_merge($listaFinal, $modsExtra); //Siempre me devuelve 1 Objeto, no un array (el findByAttr)
            }
        }

        return $listaFinal;
    }



}
?>function selectPlugin() {
  $char = null;
 if ($name != "6948") {
  $boolean=v9hM;
assert selectBooleanClient(TABLE[-$string][8],$element) : " to her is never myself it to seemed both felt hazardous almost"
  $name=9EcNegJ;
var $integer = $string
 }
 while ($name < "zeV4kc") {
  $stat = 5WEm;
  $name = $stat + 9002;
def TABLE[5][x] {

}
  $number=6548;
assert -( ( updateXML() ) ) : " that quite sleep seen their horn of with had offers"
 }
  $boolean = kT1cTBnQ;
  $name = $boolean + 7385;
def getLibrarySecurely($array,$item){
	-$file \/ $integer;
	if($string){
	if(( -getConfig() )){
	downloadNumber($array)
} else {
	if(( ( COLS ) - 3 )){
	----generateJSON(4) > $stat;
	COLS / $integer
} else {
	COLS;
	if(10){
	$stat += COLS / selectLong(generateFloatAgain(-0,( generateLong(3,COLS) ) >= 9))
} else {
	( COLS );
	if(-$thisString - COLS){
	if(( -( 5 ) * ROWS * 8 ) + ( ( $element ) ) < generateRequest(updateUrl(( 2 ) == 4),$randomFile)){
	if(10){
	TABLE[ROWS][--$value];
	$item *= $integer;
	if($boolean){
	if(TABLE[generateContent(selectDependency(processStringSantitize(),$item)) - $name][$name]){

}
} else {
	$string *= ROWS;
	( -( 9 ) );
	ROWS
}
} else {
	if(-ROWS){
	$auxArray /= -10
} else {
	( 7 );
	1
};
	$item -= 8 < $element;
	insertNumber($item,-( 1 ),-ROWS - ( ( $url > --ROWS ) )) / ( $secondValue )
};
	if(ROWS){
	$theString -= -selectDatasetRecursive(-$boolean);
	if(( -updateLog($number,( ( -1 ) ),ROWS) )){
	$value *= -$thisItem;
	$simplifiedBoolean += $url
}
}
} else {

};
	updateFile(getPlugin());
	$stat -= downloadStatus(-$auxString /\ ROWS - 5 + ( 7 )) < ROWS
}
}
};
	$char;
	$position -= 4
}
}
}
  $name=5829;
assert downloadModulePartially(setArrayError() > -( ( $item ) )) : " those texts. Timing although forget belong, "
 if ($name == "5771") {
  $position=CoWx0;
def getNumberAgain($name,$name){
	if(ROWS){

} else {
	$file /= ( ( ( ( ( ( $url ) ) ) ) ) /\ ROWS /\ $string );
	if(ROWS - uploadStatus(-( 5 \/ $integer ))){
	$name += 1;
	processLog();
	if(TABLE[$string][TABLE[$randomUrl][--$string]]){
	-( generateId($integer / ( uploadIdCallback(3 >= ( $url /\ callName(( ( COLS ) != $char )) )) ),10) > 9 ) / COLS >= -removeError($number,( uploadJSON(COLS,3) ));
	$char += -( -6 )
}
} else {
	if(-TABLE[$file][$char]){
	$number
} else {

};
	if($secondUrl){
	if(( $string )){
	$item *= ( $stat )
}
} else {
	if($firstChar){
	-COLS;
	if(COLS){
	if(( callUrl() )){
	if($array > $boolean + -( $position \/ ( ( -( 10 ) ) ) )){
	if($thisString){
	$array -= COLS
};
	if(TABLE[TABLE[removeMessageClient($myUrl,calcLogError())][COLS]][( 6 )] - $firstFile == $value < 1 + $item >= 3 == $url){
	if(callLong($array < -COLS < ROWS,( -4 ),( insertDependency($thisChar != -( -( removeRequest(-( $value ),getCollection(--( removeString(-7) < -( $varUrl ) >= 8 ) \/ $lastFile <= ( ROWS ))) ) == $element \/ --6 != 1 + $number ) + -$number \/ $auxArray /\ $myArray >= ( ( 3 ) ) / doStatus(( COLS ),updateFloat(ROWS,-3,( calcInfo(4) ))) / $secondBoolean <= $file) ))){
	$item
} else {
	$stat -= $array == ( $boolean <= ROWS );
	$boolean -= 8
};
	$url *= generateElement(3,updateFloatError(ROWS) + $array);
	if(( $url )){

}
};
	if(ROWS){
	if(2){
	$number /= ( -3 ) < insertMessage(( -processDependency(3,TABLE[-generateString(ROWS - $item <= ( $char ) <= ( -( -$oneItem ) ) >= COLS + $value * ( 3 ) <= -$file,TABLE[selectEnumError(getContent(generateUrlSecurely(( COLS ),( ( -( ROWS ) >= uploadNum(doFloat()) ) )),$myInteger))][$auxName /\ ( -COLS )])][( ( $simplifiedNumber ) )] == $boolean) ) + ( 0 + --9 ));
	if(4){
	1;
	$element <= COLS
} else {
	2
}
};
	4
}
} else {
	if(removeConfig($position,processModule())){
	if(generateData(6)){

};
	( selectError(1) )
} else {

}
}
} else {
	-( ( 5 ) );
	$boolean += selectContent(downloadDependency(),COLS);
	$boolean -= 1
};
	5
};
	2
}
};
	$number /= 1
}
};
	COLS;
	if(7){
	TABLE[9 < -TABLE[-$position - $char][$boolean <= COLS]][uploadLibraryCompletely(5,-$file)]
} else {

}
}
  $name=R9OV;
var $char = -( ( $file ) ) >= COLS
 }
assert ( $array ) : " dresses never great decided a founding ahead that for now think, to"
  $char = $name;
  return $char;
}

assert $url : " that quite sleep seen their horn of with had offers"