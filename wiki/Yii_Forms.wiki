#summary Lo básico de los formularios en Yii.
#labels Phase-Implementation

= Formularios =

The following steps are typically needed when dealing with forms in Yii:

  # Create a model class representing the data fields to be collected;
  # Create a controller action with code that responds to form submission.
  # Create a form in the view script file associated with the controller action.

== Creando el modelo ==

Below we create a LoginForm model class used to collect user input on a login page. Because the login information is only used to authenticate the user and does not need to be saved, we create LoginForm as a form model.

{{{
  class LoginForm extends CFormModel
  {
    public $username;
    public $password;
    public $rememberMe=false;
  }
}}}

Three attributes are declared in LoginForm: $username, $password and $rememberMe. They are used to keep the user-entered username and password, and the option whether the user wants to remember his login. Because $rememberMe has a default value false, the corresponding option when initially displayed in the login form will be unchecked.

== Validando los datos del formulario ==

We specify the validation rules in the rules() method which should return an array of rule configurations.

{{{
  class LoginForm extends CFormModel  {
    public $username;
    public $password;
    public $rememberMe=false;
 
    private $_identity;
 
    public function rules()
    {
        return array(
            array('username, password', 'required'),
            array('rememberMe', 'boolean'),
            array('password', 'authenticate'),
        );
    }
 
    public function authenticate($attribute,$params)
    {
        $this->_identity=new UserIdentity($this->username,$this->password);
        if(!$this->_identity->authenticate())
            $this->addError('password','Incorrect username or password.');
    }
  }
}}}

The above code specifies that username and password are both required, password should be authenticated, and rememberMe should be a boolean.

[Yii_Modelo#Las_reglas:_rules() Información sobre los filtros de las reglas.]